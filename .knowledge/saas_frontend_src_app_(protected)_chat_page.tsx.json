{"is_source_file": true, "format": "TypeScript (TSX)", "description": "This file implements a chat interface component in React using functional components and hooks. It manages conversations and messages, subscribes to real-time updates via Supabase, and provides UI elements for creating conversations and sending messages.", "external_files": ["@/components/ui/Card", "@/components/ui/Button", "@/components/ui/Input", "@/lib/api", "@/lib/supabaseClient", "@/types", "lucide-react", "@/lib/utils", "date-fns"], "external_methods": ["api.get", "api.post", "supabase.channel", "supabase.removeChannel", "format"], "published": [], "classes": [], "methods": [{"name": "ChatPage", "description": "Main React component that renders the chat interface, manages state for conversations, messages, and UI interactions."}, {"name": "loadMessages", "description": "Fetches messages for a specified conversation."}, {"name": "subscribeToMessages", "description": "Sets up a real-time subscription to new messages for a specific conversation using Supabase channels."}, {"name": "createConversation", "description": "Creates a new conversation with a user-provided title and updates the UI."}, {"name": "sendMessage", "description": "Handles sending a new message in the current conversation."}], "calls": ["api.get<Conversation[]>('/conversations?orgId=' + orgId)", "api.post<Conversation>('/conversations')", "api.get<Message[]>('/conversations/' + convId + '/messages')", "api.post('/conversations/' + selectedConversation.id + '/messages')", "supabase.channel(`messages:${convId}`)", "supabase.removeChannel(channel)", "format(new Date(msg.created_at), 'HH:mm')"], "search-terms": ["chat interface", "conversations list", "real-time messages", "Supabase subscriptions", "React hooks chat", "TypeScript chat component"], "state": 2, "file_id": 29, "knowledge_revision": 80, "git_revision": "bd14b392167542b47830f70999edd27e9e5b6b24", "revision_history": [{"66": ""}, {"77": ""}, {"80": "bd14b392167542b47830f70999edd27e9e5b6b24"}], "ctags": [], "hash": "46a922fd3b50743eb0c9e4cec02de512", "format-version": 4, "code-base-name": "saas_frontend", "filename": "saas_frontend/src/app/(protected)/chat/page.tsx"}