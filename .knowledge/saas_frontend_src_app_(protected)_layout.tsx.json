{"is_source_file": true, "format": "TypeScript/TSX", "description": "This file defines a React component 'ProtectedLayout' used to protect routes by checking user authentication via Supabase. It manages loading state, performs an auth check on mount, and conditionally renders either a loading indicator or the wrapped children with a layout including a sidebar.", "external_files": ["@/components/layout/Sidebar", "@/lib/supabaseClient", "@/components/ui/Loading"], "external_methods": ["supabase.auth.getSession", "router.replace"], "published": ["ProtectedLayout"], "classes": [], "methods": [{"name": "checkAuth", "description": "Asynchronous function that retrieves the current session from Supabase; if no session exists, redirects to login, otherwise updates loading state."}], "calls": ["supabase.auth.getSession", "router.replace"], "search-terms": ["ProtectedLayout", "supabase auth check", "route protection", "Next.js route guard", "TSX layout component"], "state": 2, "file_id": 25, "knowledge_revision": 55, "git_revision": "", "ctags": [], "hash": "eaaab38f42d9072a699982d56d864b81", "format-version": 4, "code-base-name": "saas_frontend", "filename": "saas_frontend/src/app/(protected)/layout.tsx", "revision_history": [{"55": ""}]}